<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width,initial-scale=1" name="viewport"/>
    <title>Mapa de Produção — v4.0 Refatorado</title>
    <link href='data:image/svg+xml,&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"&gt;&lt;rect x="0" y="0" width="128" height="128" rx="22" fill="%237b1e3a"/&gt;&lt;text x="64" y="78" text-anchor="middle" font-family="Arial" font-size="56" fill="white"&gt;MP&lt;/text&gt;&lt;/svg&gt;' rel="icon"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="main">
        <div class="top">
            <div class="brand">
                <div class="logo">MP</div>
                <div>
                    <h1 style="font-size:18px; margin:0; line-height:1.2">Mapa de Produção</h1>
                    <div class="hint" style="margin:0">Ficha técnica, previsão e compras</div>
                </div>
            </div>
            <nav class="tabs" id="main-tabs">
                <button class="active" data-tab="cadastros">Cadastros</button>
                <button data-tab="producao">Produção</button>
                <button data-tab="compras">Compras</button>
                <button data-tab="estoque">Estoque</button>
            </nav>
            <div class="status-bar">
                <div id="status">Carregando…</div>
            </div>
        </div>
        <div class="content-wrap">
            <section class="tab-content active" id="tab-cadastros">
                <div class="section" id="section-cadastros">
                    <nav class="subtabs" id="cadastro-subtabs">
                        <button class="active" data-subtab="pratos">Pratos</button>
                        <button data-subtab="componentes">Componentes</button>
                        <button data-subtab="receitas">Receitas</button>
                        <button data-subtab="ingredientes">Ingredientes</button>
                        <button class="chip" data-subtab="um">Unidades de Medida</button>
                        <button class="chip" data-subtab="unidades">Unidades (destino)</button>
                        <button class="chip" data-subtab="categorias">Categorias</button>
                        <button class="chip" data-subtab="item-tipos">Tipos de Item</button>
                    </nav>
                    <div class="subpage active" id="sub-pratos">
                        </div>
                    <div class="subpage" id="sub-componentes">
                        </div>
                    <div class="subpage" id="sub-receitas">
                        </div>
                    <div class="subpage" id="sub-ingredientes">
                        </div>
                    <div class="subpage" id="sub-um">
                        </div>
                    <div class="subpage" id="sub-unidades">
                        </div>
                    <div class="subpage" id="sub-categorias">
                        </div>
                    <div class="subpage" id="sub-item-tipos">
                        </div>
                </div>
            </section>
            <section class="tab-content" id="tab-producao">
                </section>
            <section class="tab-content" id="tab-compras">
               </section>
            <section class="tab-content" id="tab-estoque">
                <div class="section" id="section-estoque">
                    <nav class="subtabs" id="estoque-subtabs">
                        <button class="active" data-subtab="estoque-visao">Visão Geral</button>
                        <button data-subtab="estoque-mov">Movimentar</button>
                        <button data-subtab="estoque-benef">Beneficiar</button>
                        <button data-subtab="estoque-inv">Inventário</button>
                        <button data-subtab="estoque-param">Parâmetros</button>
                        <button data-subtab="estoque-anom">Anomalias (IA)</button>
                    </nav>
                    <div class="subpage active" id="sub-estoque-visao">
                        </div>
                    <div class="subpage" id="sub-estoque-mov">
                        </div>
                    <div class="subpage" id="sub-estoque-param">
                        </div>
                    </div>
            </section>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="app.js" defer></script>
</body>
</html>
